{"ast":null,"code":"import _regeneratorRuntime from\"/Users/daniel/Desktop/DH2465-cadoo/code/frontend/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/daniel/Desktop/DH2465-cadoo/code/frontend/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/daniel/Desktop/DH2465-cadoo/code/frontend/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{useHistory}from\"react-router-dom\";import{FormGroup,FormControl,ControlLabel}from\"react-bootstrap\";import LoaderButton from\"../components/LoaderButton\";import{useAppContext}from\"../libs/contextLib\";import{useFormFields}from\"../libs/hooksLib\";import{v4 as uuid}from\"uuid\";import\"../css/CreateRoom.css\";export default function CreateRoom(){var _useFormFields=useFormFields({name:\"\",description:\"\",date:\"2020-11-10\",time:\"\",numPeople:4}),_useFormFields2=_slicedToArray(_useFormFields,2),fields=_useFormFields2[0],handleFieldChange=_useFormFields2[1];var history=useHistory();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];function validateForm(){return fields.name.length>0&&fields.description.length>0&&fields.date>0&&fields.time>0&&fields.numPeople<9;}function create(){var id=uuid();history.push({pathname:\"/room/\".concat(id),state:{roomID:id,description:fields.description,name:fields.name,numPeople:fields.numPeople}});}function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();setIsLoading(true);create();setIsLoading(false);case 4:case\"end\":return _context.stop();}}},_callee);}));return _handleSubmit.apply(this,arguments);}function renderForm(){return/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit},/*#__PURE__*/React.createElement(FormGroup,{controlId:\"name\",bsSize:\"large\"},/*#__PURE__*/React.createElement(ControlLabel,null),/*#__PURE__*/React.createElement(FormControl,{autoFocus:true,type:\"text\",value:fields.name,onChange:handleFieldChange,placeholder:\"topic\"})),/*#__PURE__*/React.createElement(FormGroup,{controlId:\"description\",bsSize:\"large\"},/*#__PURE__*/React.createElement(ControlLabel,null),/*#__PURE__*/React.createElement(FormControl,{type:\"text\",placeholder:\"description\",value:fields.description,onChange:handleFieldChange})),/*#__PURE__*/React.createElement(FormGroup,{controlId:\"date\",bsSize:\"large\"},/*#__PURE__*/React.createElement(ControlLabel,null),/*#__PURE__*/React.createElement(FormControl,{type:\"date\",onChange:handleFieldChange,value:fields.date})),/*#__PURE__*/React.createElement(FormGroup,{controlId:\"time\",bsSize:\"large\"},/*#__PURE__*/React.createElement(ControlLabel,null),/*#__PURE__*/React.createElement(FormControl,{type:\"time\",onChange:handleFieldChange,value:fields.time})),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"h3\",null,\"No. of participants:\"),/*#__PURE__*/React.createElement(FormGroup,{controlId:\"numPeople\",bsSize:\"large\"},/*#__PURE__*/React.createElement(ControlLabel,null),/*#__PURE__*/React.createElement(FormControl,{type:\"number\",onChange:handleFieldChange,value:fields.numPeople})),/*#__PURE__*/React.createElement(LoaderButton,{block:true,type:\"submit\",bsSize:\"large\",isLoading:isLoading,disabled:!validateForm()},\"Create a new room\"));}return/*#__PURE__*/React.createElement(\"div\",{className:\"CreateRoom\"},renderForm());}","map":{"version":3,"sources":["/Users/daniel/Desktop/DH2465-cadoo/code/frontend/client/src/containers/CreateRoom.js"],"names":["React","useState","useHistory","FormGroup","FormControl","ControlLabel","LoaderButton","useAppContext","useFormFields","v4","uuid","CreateRoom","name","description","date","time","numPeople","fields","handleFieldChange","history","isLoading","setIsLoading","validateForm","length","create","id","push","pathname","state","roomID","handleSubmit","event","preventDefault","renderForm"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport {\n  FormGroup,\n  FormControl,\n  ControlLabel\n} from \"react-bootstrap\";\nimport LoaderButton from \"../components/LoaderButton\";\nimport { useAppContext } from \"../libs/contextLib\";\nimport { useFormFields } from \"../libs/hooksLib\";\nimport { v4 as uuid } from \"uuid\";\n\nimport \"../css/CreateRoom.css\";\n\n\nexport default function CreateRoom() {\n  const [fields, handleFieldChange] = useFormFields({\n    name: \"\",\n    description: \"\",\n    date: \"2020-11-10\",\n    time: \"\",\n    numPeople: 4,\n  });\n  const history = useHistory();\n  const [isLoading, setIsLoading] = useState(false);\n\n  function validateForm() {\n    return (\n      fields.name.length > 0 &&\n      fields.description.length > 0 &&\n      fields.date > 0&&\n      fields.time > 0&&\n      fields.numPeople < 9\n    );\n  }\n\n  function create() {\n    const id = uuid();\n    history.push({\n        pathname: `/room/${id}`,\n        state: {\n            roomID: id, \n            description: fields.description,\n            name: fields.name,\n            numPeople: fields.numPeople\n        }\n    });\n  } \n\n\n  async function handleSubmit(event) {\n    event.preventDefault();\n    setIsLoading(true);\n    create()\n    setIsLoading(false);\n  }\n\n\n  function renderForm() {\n    return (\n      <form onSubmit={handleSubmit}>\n        <FormGroup controlId=\"name\" bsSize=\"large\">\n          <ControlLabel></ControlLabel>\n          <FormControl\n            autoFocus\n            type=\"text\"\n            value={fields.name}\n            onChange={handleFieldChange}\n            placeholder=\"topic\"\n          />\n        </FormGroup>\n        <FormGroup controlId=\"description\" bsSize=\"large\">\n          <ControlLabel></ControlLabel>\n          <FormControl\n            type=\"text\"\n            placeholder=\"description\"\n            value={fields.description}\n            onChange={handleFieldChange}\n          />\n        </FormGroup>\n        <FormGroup controlId=\"date\" bsSize=\"large\">\n          <ControlLabel></ControlLabel>\n          <FormControl\n            type=\"date\"\n            onChange={handleFieldChange}\n            value={fields.date}\n          />\n        </FormGroup>\n        <FormGroup controlId=\"time\" bsSize=\"large\">\n          <ControlLabel></ControlLabel>\n          <FormControl\n            type=\"time\"\n            onChange={handleFieldChange}\n            value={fields.time}\n          />\n        </FormGroup>\n        <br></br>\n        <h3>No. of participants:</h3>\n        <FormGroup controlId=\"numPeople\" bsSize=\"large\">\n          <ControlLabel></ControlLabel>\n          <FormControl\n            type=\"number\"\n            onChange={handleFieldChange}\n            value={fields.numPeople}\n          />\n        </FormGroup>\n        <LoaderButton\n          block\n          type=\"submit\"\n          bsSize=\"large\"\n          isLoading={isLoading}\n          disabled={!validateForm()}\n        >\n          Create a new room\n        </LoaderButton>\n      </form>\n    );\n  }\n\n  return (\n    <div className=\"CreateRoom\">\n      { renderForm() }\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}