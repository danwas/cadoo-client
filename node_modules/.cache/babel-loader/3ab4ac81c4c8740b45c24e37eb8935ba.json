{"ast":null,"code":"import _regeneratorRuntime from\"/Users/daniel/Desktop/DH2465-cadoo/code/frontend/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/daniel/Desktop/DH2465-cadoo/code/frontend/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/daniel/Desktop/DH2465-cadoo/code/frontend/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useRef,useState}from\"react\";import{useLocation,useHistory}from\"react-router-dom\";import Misc from'./Misc';import LoaderButton from\"../components/LoaderButton\";import\"../css/Home.css\";var images=[require('../images/space_cadoo.png'),require('../images/election_cadoo.png'),require('../images/warhammer_cadoo.png'),require('../images/trav.png'),require('../images/pizza_cadoo.png'),require('../images/plants_cadoo.png'),require('../images/olga.png'),require('../images/sunday-football.png'),require('../images/knitting.png'),require('../images/haunting.png')];function RoomSignup(props){var socketRef=useRef();var location=useLocation();var history=useHistory();var roomID=props.match.params.roomID;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),this_room=_useState2[0],setRoom=_useState2[1];function handleSignUp(event){event.preventDefault();history.push(\"/\");}useEffect(function(){fetchRooms();},[]);var fetchRooms=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,data,index,room;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"/api/plannedRooms\");case 2:res=_context.sent;_context.next=5;return res.json();case 5:data=_context.sent;for(index=0;index<data.rooms.length;index++){room=data.rooms[index];if(room.roomID==roomID){setRoom(room);}}case 7:case\"end\":return _context.stop();}}},_callee);}));return function fetchRooms(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"div\",{className:\"Home\"},/*#__PURE__*/React.createElement(\"div\",{class:\"column-left\"},/*#__PURE__*/React.createElement(Misc,null)),/*#__PURE__*/React.createElement(\"div\",{class:\"column-right\"},/*#__PURE__*/React.createElement(\"div\",{className:\"topDiv\"},/*#__PURE__*/React.createElement(\"h1\",null,this_room.topic,\" on \",this_room.date,\" \",this_room.time),/*#__PURE__*/React.createElement(\"div\",{class:\"center\"},/*#__PURE__*/React.createElement(\"img\",{class:\"centerimg\",src:images[parseInt(roomID)%images.length]})),/*#__PURE__*/React.createElement(\"div\",{class:\"roomSignupButton\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSignUp},/*#__PURE__*/React.createElement(LoaderButton,{block:true,type:\"submit\",bsSize:\"large\"},\"Sign up for discussion!\")))),/*#__PURE__*/React.createElement(\"br\",null)));}export default RoomSignup;","map":{"version":3,"sources":["/Users/daniel/Desktop/DH2465-cadoo/code/frontend/client/src/containers/RoomSignup.js"],"names":["React","useEffect","useRef","useState","useLocation","useHistory","Misc","LoaderButton","images","require","RoomSignup","props","socketRef","location","history","roomID","match","params","this_room","setRoom","handleSignUp","event","preventDefault","push","fetchRooms","fetch","res","json","data","index","rooms","length","room","topic","date","time","parseInt"],"mappings":"ugBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,MAA3B,CAAmCC,QAAnC,KAAmD,OAAnD,CACA,OAASC,WAAT,CAAsBC,UAAtB,KAAwC,kBAAxC,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CACA,MAAOC,CAAAA,YAAP,KAAyB,4BAAzB,CAEA,MAAO,iBAAP,CAEA,GAAMC,CAAAA,MAAM,CAAG,CACXC,OAAO,CAAC,2BAAD,CADI,CAEXA,OAAO,CAAC,8BAAD,CAFI,CAGXA,OAAO,CAAC,+BAAD,CAHI,CAIXA,OAAO,CAAC,oBAAD,CAJI,CAKXA,OAAO,CAAC,2BAAD,CALI,CAMXA,OAAO,CAAC,4BAAD,CANI,CAOXA,OAAO,CAAC,oBAAD,CAPI,CAQXA,OAAO,CAAC,+BAAD,CARI,CASXA,OAAO,CAAC,wBAAD,CATI,CAUXA,OAAO,CAAC,wBAAD,CAVI,CAAf,CAaA,QAASC,CAAAA,UAAT,CAAoBC,KAApB,CAA2B,CACvB,GAAMC,CAAAA,SAAS,CAAGV,MAAM,EAAxB,CACA,GAAMW,CAAAA,QAAQ,CAAGT,WAAW,EAA5B,CACA,GAAMU,CAAAA,OAAO,CAAGT,UAAU,EAA1B,CACA,GAAMU,CAAAA,MAAM,CAAGJ,KAAK,CAACK,KAAN,CAAYC,MAAZ,CAAmBF,MAAlC,CAJuB,cAMMZ,QAAQ,CAAC,EAAD,CANd,wCAMhBe,SANgB,eAMLC,OANK,eAQvB,QAASC,CAAAA,YAAT,CAAsBC,KAAtB,CAA6B,CACzBA,KAAK,CAACC,cAAN,GACAR,OAAO,CAACS,IAAR,CAAa,GAAb,EACD,CAEHtB,SAAS,CAAC,UAAM,CACZuB,UAAU,GACb,CAFQ,CAEP,EAFO,CAAT,CAIA,GAAMA,CAAAA,UAAU,0FAAG,iLAEGC,CAAAA,KAAK,CACnB,mBADmB,CAFR,QAETC,GAFS,qCAKIA,CAAAA,GAAG,CAACC,IAAJ,EALJ,QAKTC,IALS,eAMf,IAASC,KAAT,CAAiB,CAAjB,CAAoBA,KAAK,CAAGD,IAAI,CAACE,KAAL,CAAWC,MAAvC,CAA+CF,KAAK,EAApD,CAAwD,CAC9CG,IAD8C,CACvCJ,IAAI,CAACE,KAAL,CAAWD,KAAX,CADuC,CAEpD,GAAIG,IAAI,CAACjB,MAAL,EAAeA,MAAnB,CAA2B,CACvBI,OAAO,CAACa,IAAD,CAAP,CACH,CACJ,CAXc,sDAAH,kBAAVR,CAAAA,UAAU,0CAAhB,CAeA,mBACI,2BAAK,SAAS,CAAC,MAAf,eACI,2BAAK,KAAK,CAAC,aAAX,eACI,oBAAC,IAAD,MADJ,CADJ,cAII,2BAAK,KAAK,CAAC,cAAX,eACA,2BAAK,SAAS,CAAC,QAAf,eACI,8BAAKN,SAAS,CAACe,KAAf,QAA0Bf,SAAS,CAACgB,IAApC,KAA2ChB,SAAS,CAACiB,IAArD,CADJ,cAEI,2BAAK,KAAK,CAAC,QAAX,eACI,2BAAK,KAAK,CAAC,WAAX,CAAuB,GAAG,CAAE3B,MAAM,CAAC4B,QAAQ,CAACrB,MAAD,CAAR,CAAkBP,MAAM,CAACuB,MAA1B,CAAlC,EADJ,CAFJ,cAKI,2BAAK,KAAK,CAAC,kBAAX,eACA,4BAAM,QAAQ,CAAEX,YAAhB,eACA,oBAAC,YAAD,EACA,KAAK,KADL,CAEA,IAAI,CAAC,QAFL,CAGA,MAAM,CAAC,OAHP,4BADA,CADA,CALJ,CADA,cAkBA,8BAlBA,CAJJ,CADJ,CA2BH,CAED,cAAeV,CAAAA,UAAf","sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport { useLocation, useHistory } from \"react-router-dom\";\nimport Misc from './Misc';\nimport LoaderButton from \"../components/LoaderButton\";\n\nimport \"../css/Home.css\"; \n\nconst images = [\n    require('../images/space_cadoo.png'),\n    require('../images/election_cadoo.png'),\n    require('../images/warhammer_cadoo.png'),\n    require('../images/trav.png'),\n    require('../images/pizza_cadoo.png'),\n    require('../images/plants_cadoo.png'),\n    require('../images/olga.png'),\n    require('../images/sunday-football.png'),\n    require('../images/knitting.png'),\n    require('../images/haunting.png'),\n]\n\nfunction RoomSignup(props) {\n    const socketRef = useRef();\n    const location = useLocation();\n    const history = useHistory();\n    const roomID = props.match.params.roomID;\n\n    const [this_room, setRoom] = useState([]);\n\n    function handleSignUp(event) {\n        event.preventDefault();\n        history.push(\"/\");\n      }\n\n    useEffect(() => {\n        fetchRooms();\n    },[]);\n\n    const fetchRooms = async () => {\n        \n        const res = await fetch(\n            \"/api/plannedRooms\"\n            );\n        const data = await res.json();\n        for (let index = 0; index < data.rooms.length; index++) {\n            const room = data.rooms[index];\n            if (room.roomID == roomID) {\n                setRoom(room);\n            }            \n        }\n        \n    }\n\n    return (\n        <div className=\"Home\">\n            <div class='column-left'>\n                <Misc />\n            </div>           \n            <div class='column-right'>\n            <div className=\"topDiv\">\n                <h1>{this_room.topic} on {this_room.date} {this_room.time}</h1>\n                <div class='center'>\n                    <img class='centerimg' src={images[parseInt(roomID)%(images.length)]} />\n                </div>\n                <div class='roomSignupButton'>\n                <form onSubmit={handleSignUp}>\n                <LoaderButton\n                block\n                type=\"submit\"\n                bsSize=\"large\"\n                >\n                    Sign up for discussion!\n                </LoaderButton>\n                </form>\n                </div>\n            </div>\n            <br></br>\n            </div>\n        </div>\n    )\n}\n\nexport default RoomSignup;"]},"metadata":{},"sourceType":"module"}