{"ast":null,"code":"var _jsxFileName = \"/Users/daniel/Desktop/DH2465-cadoo/code/frontend/client/src/App.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport { AuthContext } from \"./libs/Auth\"; // Navbar\n\nimport NavbarAuth from './containers/NavbarAuth';\nimport NavbarNotAuth from './containers/NavbarNotAuth'; // Routes\n\nimport Routes from \"./Routes\"; // Styling\n\nimport \"./App.css\";\n\nfunction App() {\n  const existingTokens = JSON.parse(localStorage.getItem(\"tokens\"));\n  const [authTokens, setAuthTokens] = useState(existingTokens);\n  const history = useHistory();\n  useEffect(() => {}, []);\n\n  async function handleLogout() {\n    setAuthTokens();\n    localStorage.clear();\n    history.push(\"/login\");\n  }\n\n  const setTokens = data => {\n    localStorage.setItem(\"tokens\", JSON.stringify(data));\n    setAuthTokens(data);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"navbar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 5\n    }\n  }, authTokens ? /*#__PURE__*/React.createElement(NavbarAuth, {\n    handleLogout: handleLogout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 22\n    }\n  }) : /*#__PURE__*/React.createElement(NavbarNotAuth, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 66\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(AuthContext.Provider, {\n    value: {\n      authTokens,\n      setAuthTokens: setTokens\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Routes, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }))));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/daniel/Desktop/DH2465-cadoo/code/frontend/client/src/App.js"],"names":["React","useState","useEffect","useHistory","AuthContext","NavbarAuth","NavbarNotAuth","Routes","App","existingTokens","JSON","parse","localStorage","getItem","authTokens","setAuthTokens","history","handleLogout","clear","push","setTokens","data","setItem","stringify"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,WAAT,QAA4B,aAA5B,C,CAEA;;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AACA,OAAOC,aAAP,MAA0B,4BAA1B,C,CAEA;;AACA,OAAOC,MAAP,MAAmB,UAAnB,C,CAEA;;AACA,OAAO,WAAP;;AAGA,SAASC,GAAT,GAAe;AACb,QAAMC,cAAc,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAX,CAAvB;AACA,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8Bd,QAAQ,CAACQ,cAAD,CAA5C;AACA,QAAMO,OAAO,GAAGb,UAAU,EAA1B;AAEAD,EAAAA,SAAS,CAAC,MAAM,CACf,CADQ,EACN,EADM,CAAT;;AAGA,iBAAee,YAAf,GAA8B;AAC5BF,IAAAA,aAAa;AACbH,IAAAA,YAAY,CAACM,KAAb;AACAF,IAAAA,OAAO,CAACG,IAAR,CAAa,QAAb;AACD;;AAED,QAAMC,SAAS,GAAIC,IAAD,IAAU;AAC1BT,IAAAA,YAAY,CAACU,OAAb,CAAqB,QAArB,EAA+BZ,IAAI,CAACa,SAAL,CAAeF,IAAf,CAA/B;AACAN,IAAAA,aAAa,CAACM,IAAD,CAAb;AACD,GAHD;;AAKA,sBACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAK,IAAA,KAAK,EAAC,QAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACIP,UAAU,gBAAG,oBAAC,UAAD;AAAY,IAAA,YAAY,EAAEG,YAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAH,gBAA+C,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAD7D,CADA,eAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAE;AAAEH,MAAAA,UAAF;AAAcC,MAAAA,aAAa,EAAEK;AAA7B,KAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,CAJA,CADF;AAYD;;AAED,eAAeZ,GAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport { AuthContext } from \"./libs/Auth\";\n\n// Navbar\nimport NavbarAuth from './containers/NavbarAuth';\nimport NavbarNotAuth from './containers/NavbarNotAuth';\n\n// Routes\nimport Routes from \"./Routes\";\n\n// Styling\nimport \"./App.css\"; \n\n\nfunction App() {\n  const existingTokens = JSON.parse(localStorage.getItem(\"tokens\"));\n  const [authTokens, setAuthTokens] = useState(existingTokens);\n  const history = useHistory();\n\n  useEffect(() => {\n  }, []);\n\n  async function handleLogout() {\n    setAuthTokens();\n    localStorage.clear();\n    history.push(\"/login\");\n  }\n\n  const setTokens = (data) => {\n    localStorage.setItem(\"tokens\", JSON.stringify(data));\n    setAuthTokens(data);\n  }\n\n  return (\n    <div className=\"App\">\n    <div class=\"navbar\">\n      { authTokens ? <NavbarAuth handleLogout={handleLogout}/> : <NavbarNotAuth/> }\n      </div>\n    <div>\n      <AuthContext.Provider value={{ authTokens, setAuthTokens: setTokens }}>\n        <Routes />\n      </AuthContext.Provider>\n    </div>\n    </div>\n  );\n}\n\nexport default App;\n\n"]},"metadata":{},"sourceType":"module"}